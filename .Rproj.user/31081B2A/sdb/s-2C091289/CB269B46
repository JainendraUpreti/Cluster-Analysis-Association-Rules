{
    "collab_server" : "",
    "contents" : "library(sqldf)\nlibrary(tcltk)\n\n\ntv_show <- read.table(\"test_data.tab\", sep = '\\t', header = T)\nsqldf(\"select * from zooc limit 10\")\n\nView(tv_show)\nstr(tv_show)\n\neps <- sqldf(\"select distinct Episode from tv_show order by Episode\")\n\ntest <- sqldf(\"select a.ID, b.Episode from tv_show a left join (select distinct Episode from tv_show) b on 1 = 1\n              group by a.ID, b.Episode\")\n\n##51738*13\n##sqldf(\"select count(*) from test\") \n\ntv <- sqldf(\"select a.ID, a.Episode, coalesce(b.Platform, 'N') as Platform from test a left join tv_show b \n  on a.ID = b.ID and a.Episode = b.Episode\")\n\n\nsqldf(\"select * from tv limit 10\")\n\n\nrow_data <- sqldf(\"\n      select ID, max(case when Episode = 101 then Platform else 0 end) as p1,\n                 max(case when Episode = 102 then Platform else 0 end) as p2,\nmax(case when Episode = 103 then Platform else 0 end) as p3,\nmax(case when Episode = 104 then Platform else 0 end) as p4,\nmax(case when Episode = 105 then Platform else 0 end) as p5,\nmax(case when Episode = 106 then Platform else 0 end) as p6,\nmax(case when Episode = 107 then Platform else 0 end) as p7,\nmax(case when Episode = 108 then Platform else 0 end) as p8,\nmax(case when Episode = 109 then Platform else 0 end) as p9,\nmax(case when Episode = 110 then Platform else 0 end) as p10,\nmax(case when Episode = 111 then Platform else 0 end) as p11,\nmax(case when Episode = 112 then Platform else 0 end) as p12,\nmax(case when Episode = 113 then Platform else 0 end) as p13\n\n               from tv group by ID\")\n\n\nrow_data <- sqldf(\"select ID, (p1||p2||p3||p4||p5||p6||p7||p8||p9||p10||p11||p12||p13) as sequence from row_data\")\n\n##testing sqldf(\"select * from row_data where ID = '0000079e315764a5ea3fc95438746375' limit 10\")\n\n\nseq_counts <- sqldf(\"select sequence, count(1) as frequency from row_data group by sequence order by count(1) DESC\")\n\n\ntop_hundred_seq <- sqldf(\"select * from seq_counts limit 100\")\n\n\n\n\n##############\n\n\nCounts <- sqldf(\"select ID, sum((case when Platform = 'L' then 1 else 0 end)) as L,\nsum((case when Platform = 'V' then 1 else 0 end)) as V,\nsum((case when Platform = 'D' then 1 else 0 end)) as D\nfrom tv_show\ngroup by ID\")\n\n\nL_mem <- sqldf(\"select ID from Counts where V = 0 and D= 0 and L!=0 group by ID\")\n\nV_mem <- sqldf(\"select ID from Counts where L = 0 and D= 0 and V!=0 group by ID\")\n\nD_mem <- sqldf(\"select ID from Counts where V = 0 and L= 0 and D!=0 group by ID\")\n\ncount(L_mem)\n\ncount(V_mem)\n\ncount(D_mem)\n\n\nLV_mem <- sqldf(\"select ID from Counts where V != 0 and D= 0 and L!=0 group by ID\")\n\nDV_mem <- sqldf(\"select ID from Counts where L = 0 and D!= 0 and V!=0 group by ID\")\n\nLD_mem <- sqldf(\"select ID from Counts where V = 0 and L!=0 and D!=0 group by ID\")\n\ncount(LV_mem)\ncount(DV_mem)\ncount(LD_mem)\n\nLDV_mem <- sqldf(\"select * from Counts where V != 0 and D!= 0 and L!=0\")\n\ncount(LDV_mem)\n\n\n",
    "created" : 1498021430982.000,
    "dirty" : true,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2812414774",
    "id" : "CB269B46",
    "lastKnownWriteTime" : 1495298807,
    "last_content_update" : 1498025299433,
    "path" : "C:/Users/upretija/Desktop/sqlcode.r",
    "project_path" : null,
    "properties" : {
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}